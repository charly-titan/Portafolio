!function(e){e.fn.autogrow=function(t){function i(i){var n,s=e(this),o=s.innerHeight(),a=this.scrollHeight,h=s.data("autogrow-start-height")||0;if(a>o)this.scrollTop=0,t.animate?s.stop().animate({height:a},t.speed):s.innerHeight(a);else if(8==i.which||46==i.which||i.ctrlKey&&88==i.which)if(o>h){n=s.clone().addClass(t.cloneClass).css({position:"absolute",zIndex:-10}).val(s.val()),s.after(n);do a=n[0].scrollHeight-1,n.innerHeight(a);while(a===n[0].scrollHeight);a++,n.remove(),h>a&&(a=h),o>a&&t.animate?s.stop().animate({height:a},t.speed):s.innerHeight(a)}else s.innerHeight(h)}var n=e(this).css({overflow:"hidden",resize:"none"}),s=n.selector,o={context:e(document),animate:!0,speed:200,fixMinHeight:!0,cloneClass:"autogrowclone"};t=e.isPlainObject(t)?t:{context:t?t:e(document)},t=e.extend({},o,t),n.each(function(i,n){var s,o;n=e(n),n.is(":visible")||parseInt(n.css("height"),10)>0?s=parseInt(n.css("height"),10)||n.innerHeight():(o=n.clone().addClass(t.cloneClass).val(n.val()).css({position:"absolute",visibility:"hidden",display:"block"}),e("body").append(o),s=o.innerHeight(),o.remove()),t.fixMinHeight&&n.data("autogrow-start-height",s),n.css("height",s)}),t.context.on("keyup paste",s,i)}}(jQuery),$(document).ready(function(){$(".autogrow").autogrow()});
