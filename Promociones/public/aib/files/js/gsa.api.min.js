(function(e){e.gsa=function(t,n){t=e.extend({GSA_php:"http://result.televisa.com/libraries/gsa.json.php",GSA_callback:true},t||{});if(t.GSA_callback){t.GSA_php=t.GSA_php+"?callback=?"}e.getJSON(t.GSA_php,t,function(e){if(typeof n=="function"){n.call(this,e)}})};e.gsa.results=function(t){var n=new Array;var r=new Object;var i=e(t.RES.R).length;if(i==1){if(t.RES.R.U){n["U"]=t.RES.R.U}if(t.RES.R.UE){n["UE"]=t.RES.R.UE}if(t.RES.R.UD){n["UD"]=t.RES.R.UD}if(t.RES.R.T){n["T"]=t.RES.R.T}if(t.RES.R.RK){n["RK"]=t.RES.R.RK}if(t.RES.R.CRAWLDATE){n["CRAWLDATE"]=t.RES.R.CRAWLDATE}if(t.RES.R.ENT_SOURCE){n["ENT_SOURCE"]=t.RES.R.ENT_SOURCE}if(t.RES.R.S){n["S"]=t.RES.R.S}if(t.RES.R.LANG){n["LANG"]=t.RES.R.LANG}e.each(t.RES.R.MT,function(e,t){n[t["@attributes"].N]=t["@attributes"].V});r[0]=n}else{e.each(t.RES.R,function(t,i){n=[];e.each(i.MT,function(t,r){if(i.U){n["U"]=i.U}if(i.UE){n["UE"]=i.UE}if(i.UD){n["UD"]=i.UD}if(i.T){n["T"]=i.T}if(i.RK){n["RK"]=i.RK}if(i.CRAWLDATE){n["CRAWLDATE"]=i.CRAWLDATE}if(i.ENT_SOURCE){n["ENT_SOURCE"]=i.ENT_SOURCE}if(i.S){n["S"]=i.S}if(i.LANG){n["LANG"]=i.LANG}e.each(r,function(){n[r["@attributes"].N]=r["@attributes"].V})});r[t]=n})}return r};e.gsa.params=function(t){var n=new Array;e.each(t,function(t,r){e.each(r,function(){n[r["@attributes"].name]=r["@attributes"].value})});return n};e.gsa.countResults=function(e){return e.RES.M};e.gsa.totalPages=function(t,n){var r;var i=1;var s=e.gsa.countResults(t);var o=e.gsa.params(t.PARAM);if(n){r=n}else{r=o["num"]}if(s>=r){i=Math.ceil(s/r)}return i}})(jQuery)