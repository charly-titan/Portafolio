!function(e,t,n,o){function a(e,t){return e[t]===o?h[t]:e[t]}function i(){var e=t.pageYOffset;return e===o?A.scrollTop:e}function r(e,t){var n=h["on"+e];n&&(w(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("tvsaimg"+e,[t]),c()}function s(t){r(t.type,e(this).off(m,s))}function l(n){if(H.length){n=n||h.forceLoad,I=1/0;var o,a,l=i(),d=t.innerHeight||A.clientHeight,c=t.innerWidth||A.clientWidth;for(o=0,a=H.length;a>o;o++){var g,f=H[o],v=f[0],p=f[u],C=!1,E=n;if(y(A,v)){if(n||!p.visibleOnly||v.offsetWidth||v.offsetHeight){if(!E){var b=v.getBoundingClientRect(),L=p.edgeX,U=p.edgeY;g=b.top+l-U-d,E=l>=g&&b.bottom>-U&&b.left<=c+L&&b.right>-L}if(E){r("show",f);var k=p.srcAttr,B=w(k)?k(f):v.getAttribute(k);B&&(f.on(m,s),v.src=B),C=!0}else I>g&&(I=g)}}else C=!0;C&&(H.splice(o--,1),a--)}a||r("complete",e(A))}}function d(){L>1?(L=1,l(),setTimeout(d,h.throttle)):L=0}function c(e){H.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&I>=i()||(L||setTimeout(d,0),L=2))}function g(){C.tvsaloadimg()}function f(){l(!0)}var u="tvsaloadimg",v="televized",m="load error",A=n.documentElement||n.body,h=(t.onscroll===o||!!t.operamini||!A.getBoundingClientRect,{autoInit:!0,selector:"img[data-src]",blankImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2N88eLFfwAJMQO5lUaUgQAAAABJRU5ErkJggg==",throttle:50,forceLoad:!1,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll owl-didmove",forceEvent:"",oninit:{removeClass:"tvsaimg"},onshow:{addClass:"classLoadimgHidden"},onload:{removeClass:"classLoadimgHidden tvsaimg-hidden",addClass:"tvsaimg-loaded"},onerror:{removeeClass:"classLoadimgHidden"},checkDuplicates:!0}),p={srcAttr:"data-src",edgeX:1400,edgeY:400,visibleOnly:!1},C=e(t),w=e.isFunction,E=e.extend,b=e.data||function(t,n){return e(t).data(n)},y=e.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},H=[],I=0,L=0;e[u]=E(h,p,e[u]),e.fn[u]=function(n){n=n||{};var o,i=a(n,"blankImage"),s=a(n,"checkDuplicates"),l=a(n,"scrollContainer"),d={};e(l).on("scroll",c);for(o in p)d[o]=a(n,o);return this.each(function(o,a){if(a===t)e(h.selector).tvsaloadimg(n);else{if(s&&b(a,v))return;var l=e(a).data(v,1);i&&"IMG"===a.tagName&&!a.src&&(a.src=i),l[u]=E({},d),r("init",l),H.push(l)}})},e(n).ready(function(){r("start",C),C.on(h.loadEvent,g).on(h.updateEvent,c).on(h.forceEvent,f),e(n).on(h.updateEvent,c),h.autoInit&&g()})}(window.jQuery||window.Zepto||window.$,window,document);
